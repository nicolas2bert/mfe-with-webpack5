{"version":3,"sources":["webpack://app-01/./src/Navbar.jsx","webpack://app-01/./src/Shell.jsx","webpack://app-01/./src/bootstrap.jsx","webpack://app-01/./src/reducers/init.js"],"names":["Navbar","React","render","props","version","e","init","mapStateToProps","state","shell","info","mapDispatchToProps","dispatch","type","connect","Root","lazy","Shell","store","shellReducer","combineReducers","rootReducer","createReducer","createStore","applyMiddleware","thunk","asyncReducers","addNamespacedReducer","key","reducer","namespaceReducer","replaceReducer","getNameSpacedStore","myStore","getState","action","populateStoreWithNamespace","ReactDOM","document","getElementById","reducerFunction","namespace","isInitializationCall","undefined","originalDispatch","originalThunkAction","thunkAction"],"mappings":"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","file":"src_bootstrap_jsx.js","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\n\nclass Navbar extends React.Component{\n    // console.log('this.props.shellVersion!!!', this.props.shellVersion);\n    render() {\n        return <div>\n            <div> Shell Version: {this.props.version} </div>\n            <div> <button onClick={e => this.props.init()}> Init Shell Version </button> </div>\n        </div>;\n    }\n}\n\nfunction mapStateToProps(state) {\n    return {\n      version: state.shell.init.info.version,\n    };\n}\n\nfunction mapDispatchToProps(dispatch){\n    return {\n        init: () => dispatch({\n            type: 'SHELL_INIT',\n            info: { version: 1 },\n        })\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navbar);\n","import React, { lazy, Suspense } from 'react';\nimport { Provider } from 'react-redux'\nimport Navbar from './Navbar';\n// import Root from 'app1/Root';\nconst Root = lazy(() => import('app1/Root'));\n\nclass Shell extends React.Component{\n    render() {\n        return <Provider store={this.props.store}>\n            <div>\n                <Navbar/>\n                <Suspense fallback={'fallback'}>\n                    <Root store={this.props.store}/>\n                </Suspense>\n            </div>\n        </Provider>;\n    }\n}\n\n\n\n\n\nexport default Shell;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Shell from './Shell';\nimport { createStore, combineReducers, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport init from './reducers/init';\n\nconst shellReducer = combineReducers({\n  init,\n});\n\nconst rootReducer = createReducer({});\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nstore.asyncReducers = {};\n\n\nstore.addNamespacedReducer = (key, reducer) => {\n    store.asyncReducers[key] = namespaceReducer(reducer, key);\n    store.replaceReducer(createReducer(store.asyncReducers));\n}\n\nstore.getNameSpacedStore = key => {\n    const myStore = {...store};\n    myStore.getState = () => store.getState()[key];\n    myStore.dispatch = action => populateStoreWithNamespace(key, store.dispatch, action);\n    return myStore;\n}\n\nReactDOM.render(<Shell store={store}/>,\n    document.getElementById('app'));\n\nfunction createReducer(asyncReducers) {\n    return combineReducers({\n        shell: shellReducer,\n        ...asyncReducers,\n    })\n}\n\nfunction namespaceReducer(reducerFunction, namespace){\n   return (state, action) => {\n     const isInitializationCall = (state === undefined);\n     if(action.namespace !== namespace && !isInitializationCall) return state;\n\n     return reducerFunction(state, action);\n   };\n}\n\nfunction populateStoreWithNamespace(key, originalDispatch, action){\n    if (typeof action === 'object') {\n        action.namespace = key;\n    }\n    if (typeof action === 'function') {\n        const originalThunkAction = action;\n        const thunkAction = (dispatch, getState) => {\n            const originalDispatch = dispatch;\n            dispatch = action => populateStoreWithNamespace(key, originalDispatch, action);\n            originalThunkAction(dispatch, getState);\n        };\n        action = thunkAction;\n    }\n    // handle other cases if needed.\n    return originalDispatch(action);\n}\n","\nfunction init(state = { info: { version: '0' }}, action) {\n  switch (action.type) {\n    case 'SHELL_INIT':\n      return {\n        ...state,\n        info: action.info\n      }\n    case 'SHELL_UPDATE_VERSION':\n      return {\n        ...state,\n        info: { ...state.info, version: action.version }\n      }\n    default:\n      return state\n  }\n}\n\nexport default init;\n"],"sourceRoot":""}